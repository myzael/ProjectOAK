###########################
# Soviet Events
###########################

add_namespace = soviet

# Border Skirmish with the Japanese
country_event = {
	id = soviet.1
	title = soviet.1.t
	desc = soviet.1.d
	picture = GFX_report_event_japanese_transport_soldiers
	
	is_triggered_only = yes 

	fire_only_once = yes
	option = { # Push back
		name = soviet.1.a
		ai_chance = { factor = 100 } # historical mod
		add_political_power = 25
		hidden_effect = {
			random_list = {
				99 = { # historical mod
					JAP = {
						country_event = { days = 1 id = japan.3 }
					}
				}
				1 = { # historical mod
					JAP = {
						country_event = { days = 1 id = japan.4 }
					}
				}
			}
		}
		effect_tooltip = {
			random_list = {
				99 = { # historical mod
					country_event = soviet.2
				}
				1 = { # historical mod
					country_event = soviet.3
				}
			}
		}
	}
}

# Successful Raid
country_event = {
	id = soviet.2
	title = soviet.2.t
	desc = soviet.2.d
	picture = GFX_report_event_dead_soldiers
	
	is_triggered_only = yes
	
	option = {
		name = soviet.2.a
		if = {
			limit = {
				561 = { 
					is_owned_by = SOV 
					any_neighbor_state = { is_owned_by = JAP } 
				}
			}
			561 = { add_manpower = -30000 }
		}		
		if = {
			limit = { 
				NOT = { 
					561 = { 
						is_owned_by = SOV 
						any_neighbor_state = { is_owned_by = JAP }
					}
				}
			}
			random_owned_state = {
				limit = { any_neighbor_state = { is_owned_by = JAP } }
				add_manpower = -30000
			}
		}
		set_country_flag = SOV_victory_at_khalkin_gol
	}
}

# Failed Raid
country_event = {
	id = soviet.3
	title = soviet.3.t
	desc = soviet.3.d
	picture = GFX_report_event_dead_soldiers
	
	is_triggered_only = yes
	
	option = {
		if = {
			limit = {
				561 = { 
					is_owned_by = SOV 
					any_neighbor_state = { is_owned_by = JAP } 
				}
			}
			561 = { add_manpower = -20000 }
		}		
		if = {
			limit = { 
				NOT = { 
					561 = { 
						is_owned_by = SOV 
						any_neighbor_state = { is_owned_by = JAP }
					}
				}
			}
			random_owned_state = {
				limit = { any_neighbor_state = { is_owned_by = JAP } }
				add_manpower = -20000
			}
		}
		set_country_flag = SOV_defeat_at_khalkin_gol

		add_political_power = -25
		add_stability = -0.02
		army_experience = 5
		name = soviet.3.a
	}
}

# Romania surrenders Bessarabia
country_event = {
	id = soviet.4
	title = soviet.4.t
	desc = soviet.4.d
	picture = GFX_report_event_soviet_army_greeted
	
	is_triggered_only = yes
	
	option = {
		name = soviet.4.a
		SOV = { 
			transfer_state = 78
			transfer_state = 80
			transfer_state = 766
		}
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.10 }
			}
			news_event = { id = news.199 }
		}
	}
}

# Romania refuses to surrender Bessarabia
country_event = {
	id = soviet.5
	title = soviet.5.t
	desc = soviet.5.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = soviet.5.a
		create_wargoal = {
			type = take_state
			target = ROM
			generator = { 78 }
		}
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.11 }
			}
		}
	}
}

# Estonia Surrenders
country_event = {
	id = soviet.6
	title = soviet.6.t
	desc = soviet.6.d
	picture = GFX_report_event_soviet_invasion_map
	
	is_triggered_only = yes
	
	option = {
		name = soviet.6.a
		annex_country = { target = EST }
	}
}

# Estonia Refuses
country_event = {
	id = soviet.7
	title = soviet.7.t
	desc = soviet.7.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = soviet.7.a
		create_wargoal = {
			type = annex_everything
			target = EST
		}		
	}
}

# Latvia Surrenders
country_event = {
	id = soviet.8
	title = soviet.8.t
	desc = soviet.8.d
	picture = GFX_report_event_soviet_tank_parade
	
	is_triggered_only = yes
	
	option = {
		name = soviet.8.a
		annex_country = { target = LAT }
	}
}

# Latvia Refuses
country_event = {
	id = soviet.9
	title = soviet.9.t
	desc = soviet.9.d
	picture = report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = soviet.9.a
		create_wargoal = {
			type = annex_everything
			target = LAT
		}		
	}
}

# Lithuania Surrenders
country_event = {
	id = soviet.10
	title = soviet.10.t
	desc = soviet.10.d
	picture = GFX_report_event_soviet_tank_parade
	
	is_triggered_only = yes
	
	option = {
		name = soviet.10.a
		annex_country = { target = LIT }
	}
}

# Lithuania Refuses
country_event = {
	id = soviet.11
	title = soviet.11.t
	desc = soviet.11.d
	picture = report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = soviet.11.a
		create_wargoal = {
			type = annex_everything
			target = LIT
		}		
	}
}

# Finland Accepts Demands
country_event = {
	id = soviet.12
	title = soviet.12.t
	desc = soviet.12.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = soviet.12.a
		SOV = { 
			transfer_state = 146
		}
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.13 }
			}
		}
	}
}

# Finland Refuses Demands
country_event = {
	id = soviet.13
	title = soviet.13.t
	desc = soviet.13.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes
	
	option = {
		name = soviet.13.a
		declare_war_on = {
            target = FIN
            type = take_state
		    generator = { 146 }
        }
        add_timed_idea = {
			idea = SOV_winter_war
			days = 180
		}			
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.12 }	
			}
		}
	}
}

# Tannu Tuva is asked to join the USSR
country_event = {
	id = soviet.14
	title = soviet.14.t
	desc = soviet.14.d
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes
	
	option = { # Accept
		name = soviet.14.a
		ai_chance = { factor = 100 }
		SOV = {
			country_event = { id = soviet.16 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { # Refuse
		name = soviet.14.b
		SOV = {
			country_event = { id = soviet.15 }
		}
	}
}

# Tannu Tuva declines the offer
country_event = {
	id = soviet.15
	title = soviet.15.t
	desc = soviet.15.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = soviet.15.a
	}
}

# Tannu Tuva accepts the offer
country_event = {
	id = soviet.16
	title = soviet.16.t
	desc = soviet.16.d
	picture = GFX_report_event_stalin_propaganda
	
	is_triggered_only = yes
	
	option = {
		name = soviet.16.a
		annex_country = { target = TAN }
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.14 }
			}
		}
	}
}

# Xi'an Incident
country_event = {
	id = soviet.18
	title = soviet.18.t
	desc = soviet.18.d
	picture = GFX_report_event_china_politicians_captured
	
	trigger = {
		date > 1936.11.1
		tag = CHI
		has_opinion_modifier = hostile_status
		NOT = { has_dlc = "Waking the Tiger" }
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 50
	}
	
	# Enter negotiations with Communist China
	option = {
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				has_war_with = PRC
			}
		}
		name = soviet.18.a
		PRC = { country_event = { id = soviet.19 days = 1 } }
	}

	# Refuse to negotiate
	option = {
		name = soviet.18.b
		#SOV = { country_event = { id = soviet.20 days = 1 } }
		ai_chance = { 
			factor = 0
			modifier = {
				factor = 100
				has_war_with = PRC
			} 
		}
		set_global_flag = CHI_no_national_front_flag
		custom_effect_tooltip = CHI_no_united_front
	}
}

# Xi'an Incident - Communist China
country_event = {
	id = soviet.19
	title = soviet.19.t
	desc = soviet.19.d
	picture = GFX_report_event_japanese_chinese_surrender
	
	is_triggered_only = yes
	
	# Agree to a truce
	option = {
		
		ai_chance = { 
			factor = 10 
		}
		name = soviet.19.a
		remove_opinion_modifier = { target = CHI modifier = hostile_status }
		CHI = {
			remove_opinion_modifier = { target = PRC modifier = hostile_status }
			country_event = { id = soviet.21 days = 1 }
		}
		hidden_effect = {
			605 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
			620 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
			607 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
			622 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
		}
		effect_tooltip = {
			CHI = {
				white_peace = PRC
				diplomatic_relation = { country = PRC relation = non_aggression_pact }
			}
		}
		set_global_flag = PRC_yes_truce
		#SOV = { country_event = { id = soviet.21 days = 1 } }
	}

}

# Xi'an Incident - Kuomintang Refuses
country_event = {
	id = soviet.20
	title = soviet.20.t
	desc = soviet.20.d
	picture = GFX_report_event_nationalist_china_machinegun_firing
	
	is_triggered_only = yes
	
	option = {
		name = soviet.20.a
	}
}

# Xi'an Incident - Truce
country_event = {
	id = soviet.21
	title = soviet.21.t
	desc = soviet.21.d
	picture = GFX_report_event_chinese_japanese_handshake
	
	is_triggered_only = yes
	
	option = {
		name = soviet.21.a
		effect_tooltip = {
			PRC = { remove_opinion_modifier = { target = CHI modifier = hostile_status } }
			CHI = { remove_opinion_modifier = { target = PRC modifier = hostile_status } }
		}
	}
}

# Xi'an Incident - Communists Refuse
country_event = {
	id = soviet.22
	title = soviet.22.t
	desc = soviet.22.d
	picture = GFX_report_event_chinese_officers
	
	is_triggered_only = yes
	
	option = {
		name = soviet.22.a
	}
}

# Soviet Union Cedes Land (Japan)
country_event = {
	id = soviet.23
	title = soviet.23.t
	desc = soviet.23.d
	picture = GFX_report_event_soviet_japanese_pact
	
	is_triggered_only = yes
	
	option = {
		name = soviet.23.a
		transfer_state = 655
	}
}

# Great Purge - Begins
country_event = {
	id = soviet.24
	title = soviet.24.t
	desc = soviet.24.d
	picture = GFX_report_event_soviet_purge_speech
	
	is_triggered_only = yes
	
	option = {
		name = soviet.24.a
		add_stability = -0.05
	}
}

# Great Purge - Trial of the Anti-Soviet Trotskyist Center
country_event = {
	id = soviet.25
	title = soviet.25.t
	desc = soviet.25.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		NOT = { has_completed_focus = SOV_great_purge }
		focus_progress = {
			focus = SOV_great_purge
			progress > 0.25
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = {
			factor = 100
			
		}
		name = soviet.25.a
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = mikhail_kalinin
		set_country_flag = purged_kalinin
		hidden_effect = {
			remove_ideas = mikhail_kalinin
		}
		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }			
	}
	option = {
		ai_chance = {
			factor = 0
			
		}
		name = soviet.25.b
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = nikita_khrushchev
		set_country_flag = purged_khrushchev
		hidden_effect = {
			remove_ideas = nikita_khrushchev
		}
		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }					
	}
	option = {
		ai_chance = {
			factor = 0
			
		}
		name = soviet.25.c
		custom_effect_tooltip = SOV_increase_paranoia_60_tt
		add_to_variable = { var = stalin_paranoia value = -60 }
		add_political_power -200
		add_ideas = nikita_khrushchev	
		add_ideas = mikhail_kalinin	
		set_country_flag = purged_party_members			
	}	
}

# Great Purge - Secret Trial of the Generals
country_event = {
	id = soviet.26
	title = soviet.26.t
	desc = soviet.26.d
	picture = GFX_report_event_soviet_purge_officers_01

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		NOT = { has_completed_focus = SOV_great_purge }
		focus_progress = {
			focus = SOV_great_purge
			progress > 0.5
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = {
			factor = 100
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
		}
		name = soviet.26.a
		set_country_flag = purge_1_group_a
		custom_effect_tooltip = remove_theorist
		show_ideas_tooltip = mikhail_tukhachevsky
		custom_effect_tooltip = remove_chief_of_army
		show_ideas_tooltip = alexander_yegorov
		custom_effect_tooltip = remove_chief_of_navy
		show_ideas_tooltip = pyotr_smirnov
		show_ideas_tooltip = mikhail_frinovsky
		remove_unit_leader = 401 #mikhail_tukhachevsky, field marshal
		custom_effect_tooltip = soviet.27_tt
		hidden_effect = {
			remove_ideas = mikhail_tukhachevsky
			remove_ideas = alexander_yegorov
		}
		custom_effect_tooltip = SOV_decrease_paranoia_5_tt
		add_to_variable = { var = stalin_paranoia value = -5 }	
	}		

	option = {
		ai_chance = {
			factor = 0
		}
		name = soviet.26.b
		set_country_flag = purge_1_group_b
		custom_effect_tooltip = remove_chief_of_army
		show_ideas_tooltip = semyon_timoshenko
		show_ideas_tooltip = kliment_voroshilov
		custom_effect_tooltip = remove_chief_of_navy
		show_ideas_tooltip = ivan_yumashev
		custom_effect_tooltip = remove_military_high_command
		show_ideas_tooltip = konstantin_rokossovsky
		show_ideas_tooltip = vladimir_kasatonov
		remove_unit_leader = 405 #kliment_voroshilov, field marshal
		remove_unit_leader = 402 #konstantin_rokossovsky, general
		remove_unit_leader = 404 #semyon_timoshenko, general
		remove_unit_leader = 403 #vladimir_kasatonov, naval commander
		custom_effect_tooltip = soviet.27_tt
		hidden_effect = {
			remove_ideas = semyon_timoshenko
			remove_ideas = kliment_voroshilov
			remove_ideas = ivan_yumashev
			remove_ideas = konstantin_rokossovsky
			remove_ideas = vladimir_kasatonov
		}
		custom_effect_tooltip = SOV_decrease_paranoia_5_tt
		add_to_variable = { var = stalin_paranoia value = -5 }	
	}			
	# REVISIT Balance, since the latter removes more unit leaders
	
}

# Great Purge - Trial of the 21
country_event = {
	id = soviet.27
	title = soviet.27.t
	desc = soviet.27.d
	picture = GFX_report_event_soviet_purge_officers_02

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		NOT = { has_completed_focus = SOV_great_purge }
		focus_progress = {
			focus = SOV_great_purge
			progress > 0.75
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
		}
		name = soviet.27.a
		set_country_flag = purge_2_group_a
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = SOV_nikolai_yezhov
		custom_effect_tooltip = remove_chief_of_airforce
		show_ideas_tooltip = yakov_smushkevich
		show_ideas_tooltip = pavel_rychagov
		show_ideas_tooltip = alexander_novikov
		custom_effect_tooltip = remove_military_high_command
		show_ideas_tooltip = gordey_levchenko
		remove_unit_leader = 406 #gordey_levchenko, naval commander
		custom_effect_tooltip = soviet.27_tt
		hidden_effect = {
			remove_ideas = SOV_nikolai_yezhov
			remove_ideas = yakov_smushkevich
			remove_ideas = pavel_rychagov
			remove_ideas = alexander_novikov
			remove_ideas = gordey_levchenko
		}
		custom_effect_tooltip = SOV_decrease_paranoia_5_tt
		add_to_variable = { var = stalin_paranoia value = -5 }	
	}
	option = {
		ai_chance = {
			factor = 45
		}
		name = soviet.27.b
		set_country_flag = purge_2_group_b
		custom_effect_tooltip = remove_chief_of_navy
		show_ideas_tooltip = nikolay_kuznetsov
		custom_effect_tooltip = remove_chief_of_airforce
		show_ideas_tooltip = konstantin_vershinin
		custom_effect_tooltip = remove_military_high_command
		show_ideas_tooltip = sergei_khudyakov
		show_ideas_tooltip = aleksandr_vasilevsky
		remove_unit_leader = 407 #aleksandr_vasilevsky, general
		custom_effect_tooltip = soviet.27_tt
		hidden_effect = {
			remove_ideas = nikolay_kuznetsov
			remove_ideas = konstantin_vershinin
			remove_ideas = sergei_khudyakov
			remove_ideas = aleksandr_vasilevsky
		}
		custom_effect_tooltip = SOV_decrease_paranoia_5_tt
		add_to_variable = { var = stalin_paranoia value = -5 }	
	}
}

# Trotsykist Coup
country_event = {
	id = soviet.28
	title = soviet.28.t
	desc = soviet.28.d
	picture = GFX_report_event_soviet_purge_politicians

	fire_only_once = yes
	
	trigger = {
		has_country_flag = SOV_soviet.48_trotsky
		tag = SOV
	}

	mean_time_to_happen = {
		days = 90
		#modifier = {
		#	factor = 1.25
		#	OR = {
		#		has_country_flag = purged_kalinin
		#		has_country_flag = purged_khrushchev
		#		has_country_flag = purged_party_members
		#	}
		#}	
	}

	option = {
		name = soviet.28.a
		set_country_flag = counter_purge
		if = {
			limit = { has_idea = trotskyite_plot_purged }
			remove_ideas = trotskyite_plot_purged
		}
		if = {
			limit = { has_idea = trotskyite_plot }
			remove_ideas = trotskyite_plot
		}
		kill_country_leader = yes
		create_country_leader = {
			name = "Leon Trotsky"
			desc = "POLITICS_LEON_TROTSKY_DESC"
			picture = "Portrait_Leon_Trotsky.dds"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
				permanent_revolutionary
			}
		}
		remove_ideas = mikhail_kalinin
		remove_ideas = ivan_konev
		remove_unit_leader = 408
		remove_ideas = pavel_zhigarev
		remove_ideas = stepan_krasovsky
		remove_ideas = arseniy_golovko
		remove_unit_leader = 409
		remove_ideas = georgy_zhukov
		remove_unit_leader = 410
		remove_ideas = sergey_gorshkov
		remove_unit_leader = 411
		remove_ideas = sergei_rudenko
		remove_ideas = nikita_khrushchev
		
		add_stability = -0.05
		add_timed_idea = {
			idea = officers_purged_7
			days = 584
		}
		hidden_effect = {
			country_event = { id = soviet.43 days = 146 }				
		}
		start_civil_war = {
			ideology = neutrality
			size = 0.18
			keep_unit_leaders = { 401 402 407 410 406 405 403 407 404 }
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				create_country_leader = {
					name = "Ivan Konev"
					desc = "POLITICS_IVAN_KONEV_DESC"
					picture = "Portrait_Soviet_Ivan_Konev.dds"
					expire = "1965.1.1"
					ideology = oligarchism
					traits = {
					war_hero
					}
				}
				if = { limit = { SOV = { has_idea = SOV_idea_2_5_year_plan } } 
				     add_ideas = { SOV_idea_2_5_year_plan }
				}
				if = { limit = { SOV = { has_idea = SOV_idea_3_5_year_plan } } 
				     add_ideas = { SOV_idea_3_5_year_plan }
				}
			}
			news_event = { hours = 6 id = news.221 }
		}
	}
}

country_event = {
	id = soviet.53
	title = soviet.53.t
	desc = soviet.53.d
	picture = GFX_report_event_stalin_01

	fire_only_once = yes

	trigger = {
		tag = SOV
		has_country_flag = SOV_purged_4
	}

	mean_time_to_happen = { days = 2 }

	option = {
		name = soviet.53.a
	}
}

# Demand Bessarabia
country_event = {
	id = soviet.30
	title = soviet.30.t
	desc = soviet.30.d
	picture = GFX_report_event_stalin_propaganda

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		78 = {
			is_claimed_by = SOV
			is_owned_by = ROM
			is_controlled_by = ROM
		}
	}
	
	immediate = { set_country_flag = bessarabia_demand } 
		
	option = {
		name = soviet.30.a
		ai_chance = { factor = 1 } # historical mod
		hidden_effect = { 
			ROM = { 
				country_event = { days = 2 id = romania.1 }
			}
		}
	}	
}

# Demand Karjala
country_event = {
	id = soviet.31
	title = soviet.31.t
	desc = soviet.31.d
	picture = GFX_report_event_stalin_propaganda

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		146 = {
			is_claimed_by = SOV
			is_owned_by = FIN
		}
	}
	
		
	option = {
		name = soviet.31.a
		FIN = { country_event = { days = 2 id = finland.1 } }
		ai_chance = { factor = 100 }
	}
	
}

# Oppress Estonia
country_event = {
	id = soviet.32
	title = soviet.32.t
	desc = soviet.32.d
	picture = GFX_report_event_soviet_in_riga

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		EST = {
			any_owned_state = { is_claimed_by = SOV }
		}
		POL = { has_war = yes }
	}
	
		
	option = {
		name = soviet.32.a
		EST = { country_event = { days = 2 id = baltic.1 } }
		ai_chance = { factor = 100 }
	}
	
}

# Oppress Latvia
country_event = {
	id = soviet.33
	title = soviet.33.t
	desc = soviet.33.d
	picture = GFX_report_event_soviet_in_riga

	fire_only_once = yes
	trigger = {
		tag = SOV
		LAT = {
			any_owned_state = { is_claimed_by = SOV }
		}
		POL = { has_war = yes }
	}
		
	option = {
		name = soviet.33.a
		LAT = { country_event = { days = 2 id = baltic.2 } }
		ai_chance = { factor = 100 }
	}
	
}

# Oppress Lithuania 
country_event = {
	id = soviet.34
	title = soviet.34.t
	desc = soviet.34.d
	picture = GFX_report_event_soviet_in_riga

	fire_only_once = yes
	trigger = {
		tag = SOV
		LIT = {
			any_owned_state = { is_claimed_by = SOV }
		}
		POL = { has_war = yes }
	}
		
	option = {
		name = soviet.34.a
		LIT = { country_event = { days = 2 id = baltic.3 } }
		ai_chance = { factor = 1 }
	}

}

# Communist government in FROM baltic country and they wish to be annexed
country_event = {
	id = soviet.35
	title = soviet.35.t
	desc = soviet.35.d
	picture = GFX_report_event_soviet_in_riga

	is_triggered_only = yes

	option = {
		name = soviet.35.a
		ai_chance = { factor = 100 }

		effect_tooltip = {
			if = {
				limit = { FROM = { tag = LIT } }
			 	SOV = {
			 		annex_country = {
					target = LIT
					transfer_troops = yes } 
					add_named_threat = { threat = 2 name = soviet.35_threat_LIT }
				}
			}
			if = {
				limit = { FROM = { tag = FIN } } 
			 	SOV = { 
			 		annex_country = {
					target = FIN
					transfer_troops = yes } 
					add_named_threat = { threat = 5 name = soviet.35_threat_FIN }
				}
			}
			if = {
				limit = { FROM = { tag = EST } } 
			 	SOV = { 
			 		annex_country = {
					target = EST
					transfer_troops = yes } 
					add_named_threat = { threat = 2 name = soviet.35_threat_EST }
				}
			}
			if = {
				limit = { FROM = { tag = LAT } } 
			 	SOV = {
			 		annex_country = {
					target = LAT
					transfer_troops = yes } 
					add_named_threat = { threat = 2 name = soviet.35_threat_LAT }
				}
			}
		} 

		hidden_effect = {

			 FROM = {
			 	country_event = { id = baltic.6 hours = 6}
			 }			
		}
	}
	option = {
		name = soviet.35.b
		ai_chance = { factor = 0 }
	}
}

# Communist government in FROM baltic country and they wish to be part puppet
country_event = {
	id = soviet.36
	title = soviet.36.t
	desc = soviet.36.d
	picture = GFX_report_event_soviet_in_riga

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = {
				save_event_target_as = baltic
			}
		}
	}

	option = {
		name = soviet.36.a
		if = {
			limit = {
				FROM = { is_puppet = no }
			}
			SOV = { puppet = FROM }
		}
		ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { tag = LIT } }
				add_named_threat = { threat = 1 name = soviet.36_threat_LIT }
			}	
			if = {
				limit = { FROM = { tag = FIN } }
				add_named_threat = { threat = 2 name = soviet.36_threat_FIN }
			}			
			if = {
				limit = { FROM = { tag = EST } }
				add_named_threat = { threat = 1 name = soviet.36_threat_EST }
			}			
			if = {
				limit = { FROM = { tag = LAT } }
				add_named_threat = { threat = 1 name = soviet.36_threat_LAT }
			}		

		#trigger news event
		hidden_effect = {
			news_event =  { id = news.70 days = 1}
		}		
	}
	option = {
		name = soviet.36.b
		ai_chance = { factor = 0 }
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.37
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged
			add_timed_idea = {
				idea = officers_purged_2
				days = 1314
			}
			country_event = { id = soviet.38 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.38
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_2 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_2
			add_timed_idea = {
				idea = officers_purged_3
				days = 1168
			}
			if = {
				limit = { has_idea = SOV_great_patriotic_war }
				remove_ideas = SOV_great_patriotic_war
				add_ideas = SOV_great_patriotic_war_2
			}
			country_event = { id = soviet.39 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.39
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_3 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_3
			add_timed_idea = {
				idea = officers_purged_4
				days = 1022
			}
			country_event = { id = soviet.40 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.40
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_4 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_4
			add_timed_idea = {
				idea = officers_purged_5
				days = 876
			}
			if = {
				limit = { has_idea = SOV_great_patriotic_war_2 }
				remove_ideas = SOV_great_patriotic_war_2
				add_ideas = SOV_great_patriotic_war_3
			}			
			country_event = { id = soviet.41 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.41
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_5 }

	immediate = {
	hidden_effect = {
			remove_ideas = officers_purged_5
			add_timed_idea = {
				idea = officers_purged_6
				days = 730
			}		
			country_event = { id = soviet.42 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.42
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_6 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_6
			add_timed_idea = {
				idea = officers_purged_7
				days = 584
			}
			if = {
				limit = { has_idea = SOV_great_patriotic_war_3 }
				remove_ideas = SOV_great_patriotic_war_3
				add_ideas = SOV_great_patriotic_war_4
			}			
			country_event = { id = soviet.43 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.43
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_7 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_7
			add_timed_idea = {
				idea = officers_purged_8
				days = 438
			}
			country_event = { id = soviet.44 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.44
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_8 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_8
			add_timed_idea = {
				idea = officers_purged_9
				days = 292
			}
			if = {
				limit = { has_idea = SOV_great_patriotic_war_4 }
				remove_ideas = SOV_great_patriotic_war_4
				add_ideas = SOV_great_patriotic_war_5
			}					
			country_event = { id = soviet.45 days = 146 }
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.45
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	trigger = {	has_idea = officers_purged_9 }

	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_9
			add_timed_idea = {
				idea = officers_purged_10
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

country_event = {
	id = soviet.46
	title = soviet.46.t
	desc = soviet.46.d
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes

	option = {
		name = soviet.46.a
	}
}

#No purges completed - decide what to do
country_event = {
	id = soviet.48
	title = soviet.48.t
	desc = soviet.48.d
	picture = GFX_report_event_soviet_purge_politicians

	trigger = {
		has_government = communism
		tag = SOV
		has_global_flag = SOV_fourth_international_fired
		OR = {
		NOT = { has_completed_focus = SOV_great_purge }
		AND = { 
			has_country_flag = no_political_purge
			has_country_flag = purge_1_no_purge
			has_country_flag = purge_2_no_purge
		}
		}
	}

	mean_time_to_happen = {
		days = 90
	}

	fire_only_once = yes

	#Don't invite trotsky
	option = {
    	ai_chance = {
			factor = 2
		}
		name = soviet.48.a
		custom_effect_tooltip = soviet.48.a_tt
		set_country_flag = SOV_soviet.48_notrotsky
	}

	#Invite back Trotsky
	option = {
	    ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		name = soviet.48.b
		custom_effect_tooltip = soviet.48.b_tt
		set_country_flag = SOV_soviet.48_trotsky
	}

}

#No purges massive civil war
country_event = {
	id = soviet.49
	title = soviet.49.t
	desc = soviet.49.d
	picture = GFX_report_event_soviet_tanks

	trigger = {
		tag = SOV
		has_country_flag = SOV_soviet.48_notrotsky
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 10 }

	option = {
		name = soviet.49.a
		start_civil_war = {
			ideology = neutrality
			size = 0.5
			keep_unit_leaders = { 401 402 407 410 406 405 403 407 408 410 411 404 }
		}
		hidden_effect = {
			remove_unit_leader = 412 #Remove Andrey Vlasov
			random_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				create_country_leader = {
					name = "Andrey Vlasov"
					desc = "POLITICS_ANDREY_VLASOV_DESC"
					picture = "Portrait_Soviet_Andrey_Vlasov.dds"
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
					}
				}
			}
			news_event = { hours = 3 id = news.220 }
		}
	}
}

#1/4 purges
country_event = {
	id = soviet.50
	title = soviet.50.t
	desc = soviet.50.d
	picture = GFX_report_event_soviet_purge_officers_02

	fire_only_once = yes

	trigger = {
		tag = SOV
		has_country_flag = SOV_purged_1
	}

	mean_time_to_happen = { days = 90 }

	option = {
		name = soviet.50.a
		remove_unit_leader = 412 #Remove Andrey Vlasov
		start_civil_war = {
			ideology = neutrality
			size = 0.3
			keep_unit_leaders = { 401 402 407 410 406 405 403 407 408 410 411 404 }
		}
		hidden_effect = {
			random_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				create_country_leader = {
					name = "Andrey Vlasov"
					desc = "POLITICS_ANDREY_VLASOV_DESC"
					picture = "Portrait_Soviet_Andrey_Vlasov.dds"
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
					}
				}
			}
			news_event = { hours = 3 id = news.220 }
		}
	}
}

#2/4 purges
country_event = {
	id = soviet.51
	title = soviet.51.t
	desc = soviet.51.d
	picture = GFX_report_event_soviet_purge_officers_02

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		has_country_flag = SOV_purged_2
	}

	mean_time_to_happen = { days = 90 }

	option = {
		name = soviet.51.a
		remove_unit_leader = 412 #Remove Andrey Vlasov
		start_civil_war = {
			ideology = neutrality
			size = 0.25
			keep_unit_leaders = { 401 402 407 410 406 405 403 407 408 410 411 404 }
		}
		hidden_effect = {
			random_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				create_country_leader = {
					name = "Andrey Vlasov"
					desc = "POLITICS_ANDREY_VLASOV_DESC"
					picture = "Portrait_Soviet_Andrey_Vlasov.dds"
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
					}
				}
			}
			news_event = { hours = 3 id = news.220 }
		}
	}
}

#3/4 purges
country_event = {
	id = soviet.52
	title = soviet.52.t
	desc = soviet.52.d
	picture = GFX_report_event_soviet_purge_officers_02

	fire_only_once = yes

	trigger = {
		tag = SOV
		has_country_flag = SOV_purged_3
	}

	mean_time_to_happen = { days = 90 }

	option = {
		name = soviet.52.a
		remove_unit_leader = 412 #Remove Andrey Vlasov
		add_stability = -0.05
		start_civil_war = {
			ideology = neutrality
			size = 0.2
			keep_unit_leaders = { 401 402 407 410 406 405 403 407 408 410 411 404 }
		}
		hidden_effect = {
			random_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				create_country_leader = {
					name = "Andrey Vlasov"
					desc = "POLITICS_ANDREY_VLASOV_DESC"
					picture = "Portrait_Soviet_Andrey_Vlasov.dds"
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
					}
				}
			}
			news_event = { hours = 3 id = news.220 }
		}
	}
}

#New Leadership in Russia
country_event = {
	id = soviet.54
	title = soviet.54.t
	desc = {
		text = soviet.54.d_nopurge
		trigger = {
			NOT = {
				has_completed_focus = SOV_great_purge
			}
		}
	}
	desc = {
		text = soviet.54.d_purge
		trigger = {
			has_completed_focus = SOV_great_purge
		}
	}
	picture = GFX_report_event_soviet_purge_speech

	fire_only_once = yes

	trigger = {
		tag = SOV
		NOT = {
			has_government = communism
		}
		has_civil_war = no
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = soviet.54.a
		if = {
			limit = {
				has_idea = trotskyite_plot
			}
			remove_ideas = trotskyite_plot
		}
		if = {
			limit = {
				has_idea = trotskyite_plot_purged
			}
			remove_ideas = trotskyite_plot_purged
		}
		remove_ideas = home_of_revolution
	}
}

country_event = {
	id = soviet.55
	title = soviet.55.t
	desc = soviet.55.d
	picture = GFX_report_event_generic_battle

	is_triggered_only = yes

	option = {
		name = soviet.55.a
		annex_country = { target = MON }
		army_experience = 20 
		hidden_effect = {
			country_event = { days = 1 id = news.449 }
		}
	}
}

# Poland conquered... honor MR Pact?
country_event = {
	id = soviet.60
	title = soviet.60.t
	desc = soviet.60.d
	picture = GFX_report_event_soviet_tanks
	
	fire_only_once = yes

	trigger = {
		tag = SOV
		has_global_flag = sov_yes_pact
		GER = {
			exists = yes
			is_subject = no
		}
		NOT =  { has_war_with = GER }
		OR = {
			OR = {
				owns_state = 88
				owns_state = 92
				owns_state = 90
				owns_state = 86
				owns_state = 87
				owns_state = 85
				owns_state = 98
				owns_state = 10
			}
			AND = {
				POL = { has_capitulated = yes }
				OR = {
					controls_state = 88
					controls_state = 92
					controls_state = 90
					controls_state = 86
					controls_state = 87
					controls_state = 85
					controls_state = 98
					controls_state = 10
				}
			}
			OR = {
				any_other_country = {
					is_in_faction_with = SOV
					SOV = {
						is_faction_leader = yes
					}
					OR = {
						owns_state = 88
						owns_state = 92
						owns_state = 90
						owns_state = 86
						owns_state = 87
						owns_state = 85
						owns_state = 98
						owns_state = 10
						AND = {
							POL = { has_capitulated = yes }
							OR = {
								controls_state = 88
								controls_state = 92
								controls_state = 90
								controls_state = 86
								controls_state = 87
								controls_state = 85
								controls_state = 98
								controls_state = 10
							}
						}		
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				AND = {
					POL = {
						is_ai = no
						has_civil_war = no
					}
					is_in_faction_with = POL
				}
			}
		}
		name = soviet.60.a
		if = {
			limit = {
				88 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 88
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 88 }
		}
		if = {
			limit = {
				92 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 92
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 92 }
		}
		if = {
			limit = {
				90 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 90
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 90 }
		}
		if = {
			limit = {
				86 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 86
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = {
				transfer_state = 86
				add_state_core = 86
			}
		}
		if = {
			limit = {
				87 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 87
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 87 }
		}
		if = {
			limit = {
				85 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 85
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = {
				transfer_state = 85
				add_state_core = 85
			}
		}
		if = {
			limit = {
				98 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 98
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 98 }
		}
		if = {
			limit = {
				10 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 10
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 10 }
		}
		if = {
			limit = {
				70 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 70
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 70 }
		}
		if = {
			limit = {
				664 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 664
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 664 }
		}
		if = {
			limit = {
				72 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 72
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 72 }
		}
		if = {
			limit = {
				762 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 762
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = {
				transfer_state = 762
				add_state_core = 762
			}
		}
		GER = { country_event = soviet.61 }
	}
	
}

# Soviet honors MR Pact (Germany)
country_event = {
	id = soviet.61
	title = soviet.61.t
	desc = soviet.61.d
	picture = GFX_report_event_soviet_german_soldier_handshake

	is_triggered_only = yes
	
	option = {
		name = germany.12.a
		if = {
			limit = {
				GER = {
					controls_state = 85
					controls_state = 86
					controls_state = 87
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.287 }
			}
		}
	}
}

# Soviet betrays MR Pact (Germany)
country_event = {
	id = soviet.62
	title = soviet.62.t
	desc = soviet.62.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
	
	option = {
		name = soviet.62.a
		create_wargoal = {
			type = annex_everything
			target = SOV
		}
	}
}

country_event = { # Young cadet accused of spreading fascism
	id = soviet.63
	title = soviet.63.t
	desc = soviet.63.d
	picture = GFX_report_event_bose_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.63.a
		ai_chance = { factor = 100 }

		add_war_support = 0.01	
		add_stability = 0.02
		add_political_power = -20

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.63.b
		ai_chance = { factor = 100 }

		add_war_support = 0.02	
		add_stability = 0.05
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }
	}	
}

country_event = { # General accused of embezzlement
	id = soviet.64
	title = soviet.64.t
	desc = soviet.64.d
	picture = GFX_report_event_soviet_german_soldier_handshake

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.64.a
		ai_chance = { factor = 100 }

		add_war_support = 0.01	
		add_stability = 0.02
		add_political_power = -20

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.64.b
		ai_chance = { factor = 100 }

		add_war_support = 0.02	
		add_stability = 0.05
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }
	}	
}

country_event = { # Captains accused of plotting against Stalin
	id = soviet.65
	title = soviet.65.t
	desc = soviet.65.d
	picture = GFX_report_event_soviet_purge_officers_02

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.65.a
		ai_chance = { factor = 100 }

		add_war_support = 0.01	
		add_stability = 0.02
		add_political_power = -20

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.65.b
		ai_chance = { factor = 100 }

		add_war_support = 0.02	
		add_stability = 0.05
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }
	}	
}

country_event = { # Private Sentenced to five years in a labour camp
	id = soviet.66
	title = soviet.66.t
	desc = soviet.66.d
	picture = GFX_report_event_soviet_soldiers

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.66.a
		ai_chance = { factor = 100 }

		add_war_support = 0.01	
		add_stability = 0.02
		add_political_power = -20

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.66.b
		ai_chance = { factor = 100 }

		add_war_support = 0.02	
		add_stability = 0.05
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }
	}	
}

country_event = { # Admiral Accused of Being a Spy
	id = soviet.67
	title = soviet.67.t
	desc = soviet.67.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.67.a
		ai_chance = { factor = 100 }

		add_war_support = 0.01	
		add_stability = 0.02
		add_political_power = -20

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.67.b
		ai_chance = { factor = 100 }

		add_war_support = 0.02	
		add_stability = 0.05
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }
	}	
}

country_event = { ##Trotsky Dispatch Event ## 
	id = soviet.56
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		random_list = {
			10 = {
				country_event = { id = soviet.68 days = 10 }
			}
			10 = {
				country_event = { id = soviet.69 days = 10 }
			}
			10 = {
				country_event = { id = soviet.70 days = 10 }
			}
			10 = {
				country_event = { id = soviet.71 days = 10 }
			}
			10 = {
				country_event = { id = soviet.72 days = 10 }
			}
			10 = {
				country_event = { id = soviet.73 days = 10 }
			}
			10 = {
				country_event = { id = soviet.74 days = 10 }
			}	
			10 = {
				country_event = { id = soviet.75 days = 10 }
			}
		}
	}
}

country_event = { # The Hunt For Trotsky Norway
	id = soviet.68
	title = soviet.68.t
	desc = soviet.68.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_norway
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { # The Hunt For Trotsky Egypt
	id = soviet.69
	title = soviet.69.t
	desc = soviet.69.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_egypt
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

		set_country_flag = SOV_trotsky_norway
	}
}

country_event = { # The Hunt For Trotsky Holland
	id = soviet.70
	title = soviet.70.t
	desc = soviet.70.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_holland
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { # The Hunt For Trotsky China
	id = soviet.71
	title = soviet.71.t
	desc = soviet.71.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_china
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { # The Hunt For Trotsky Turkey
	id = soviet.72
	title = soviet.72.t
	desc = soviet.72.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_turkey
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { # The Hunt For Trotsky Rome
	id = soviet.73
	title = soviet.73.t
	desc = soviet.73.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_rome
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { # The Hunt For Trotsky Switzerland
	id = soviet.74
	title = soviet.74.t
	desc = soviet.74.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_switzerland
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { # The Hunt For Trotsky stockholm
	id = soviet.75
	title = soviet.75.t
	desc = soviet.75.d
	picture = GFX_report_event_soviet_purge_trial

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #THE HUNT CONTINUES! #
		name = soviet.68.a
		ai_chance = { factor = 100 }

		set_country_flag = SOV_trotsky_stockholm
		custom_effect_tooltip = SOV_increase_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}
}

country_event = { ##Nkvd ASS dispatched
	id = soviet.101
	title = soviet.101.t
	desc = soviet.101.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = no
	
	is_triggered_only = yes 	
	
	option = {
		name = soviet.101.a
		ai_chance = { factor = 100 }
		add_equipment_to_stockpile = { type = infantry_equipment amount = -500 }
		add_equipment_to_stockpile = { type = support_equipment_1 amount = -100 }

		add_command_power = -20 
		
		random_country = {
			limit = {
				NOT = {
					tag = SOV
				}
			}
			random_list = {
				95 = { country_event = { id = soviet.102 } } 
				5 = { country_event = { id = soviet.103 } } 
			}
		}
    }
}

country_event = { ##success##
	id = soviet.102
	title = soviet.102.t
	desc = soviet.102.d
	picture = GFX_report_event_generic_funeral

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = {
		name = soviet.102.a
		ai_chance = { factor = 100 }
		add_stability = -0.01

		add_popularity = {
    		ideology = communism
  			popularity = -0.02
		}

		hidden_effect = {
			SOV = {
				country_event = { id = soviet.104 days = 10 }
			}
		}
	}
}

country_event = { ##failure ##
	id = soviet.103
	title = soviet.103.t
	desc = soviet.103.d
	picture = GFX_report_event_finnish_letter

	fire_only_once = no
	
	is_triggered_only = yes 	

	trigger = {
	}
	
	option = {
		name = soviet.103.a
		ai_chance = { factor = 100 }
		add_stability = 0.01


		hidden_effect = {
			SOV = {
				country_event = { id = soviet.105 days = 10 }
			}
		}
	}
}

country_event = { ##success reported ##
	id = soviet.104
	title = soviet.104.t
	desc = soviet.104.d
	picture = GFX_report_event_stalin_02

	fire_only_once = no
	
	is_triggered_only = yes 	

	trigger = {
	}
	
	option = {
		name = soviet.104.a
		ai_chance = { factor = 100 }

		add_stability = 0.05
		add_political_power = 25 

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt

		add_to_variable = { var = stalin_paranoia value = -20 }

	}
}

country_event = { #you have failed me for the last, comrade.#
	id = soviet.105
	title = soviet.105.t
	desc = soviet.105.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = {
		name = soviet.105.a
		ai_chance = { factor = 100 }

		add_stability = -0.05
		add_political_power = -25 

		custom_effect_tooltip = SOV_increase_paranoia_5_tt
		add_to_variable = { var = stalin_paranoia value = 5 }
	}
}

country_event = { # Scientist accused of non-ideological activities
	id = soviet.106
	title = soviet.106.t
	desc = soviet.106.d
	picture = GFX_report_event_physics_lab_01

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # Writer accused of not describing Stalin properly
	id = soviet.107
	title = soviet.107.t
	desc = soviet.107.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # Painter accused of Western Influences
	id = soviet.108
	title = soviet.108.t
	desc = soviet.108.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # Poet accused of being a spy 
	id = soviet.109
	title = soviet.109.t
	desc = soviet.109.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # Athlete accused of smuggling  
	id = soviet.110
	title = soviet.110.t
	desc = soviet.110.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # musician playing his last tune 
	id = soviet.111
	title = soviet.111.t
	desc = soviet.111.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # army official accused of treason
	id = soviet.112
	title = soviet.112.t
	desc = soviet.112.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.02	
		add_political_power = -25

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }

	}
	option = { #Erase him from history#
		name = soviet.106.b
		ai_chance = { factor = 100 }

		add_stability = 0.04 
		add_political_power = -50

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }

	}	
}

country_event = { # A normal day in the union
	id = soviet.113
	title = soviet.113.t
	desc = soviet.113.d
	picture = GFX_report_event_gathering_protest

	fire_only_once = no
	
	is_triggered_only = yes 	

	option = { #Capital Punishment #
		name = soviet.106.a
		ai_chance = { factor = 100 }

		add_stability = 0.05	
		add_political_power = -75

		custom_effect_tooltip = SOV_decrease_paranoia_5_tt
		add_to_variable = { var = stalin_paranoia value = -5 }

	}

	option = { #Erase him from history#
		name = soviet.113.b
		ai_chance = { factor = 100 }

		add_stability = 0.10
		add_political_power = -125

		custom_effect_tooltip = SOV_decrease_paranoia_10_tt
		add_to_variable = { var = stalin_paranoia value = -10 }
	}	

	option = { #Erase him from history#
		name = soviet.113.c
		ai_chance = { factor = 100 }

		add_stability = 0.15
		add_political_power = -200

		custom_effect_tooltip = SOV_decrease_paranoia_20_tt
		add_to_variable = { var = stalin_paranoia value = -20 }
	}		
}

country_event = { #German-Soviet Trade Agreement (German Part)
	id = soviet.114
	title = soviet.114.t 
	desc = soviet.114.d 
	
	picture = GFX_report_event_molotov_ribentrop_handshake
	
	is_triggered_only = yes
	
	option = { #yes 
		name = soviet.114.a 

		ai_chance = {
			factor = 60 
			modifier = { 
				factor = 40 
			}
		}
		add_ideas = german_soviet_trade_agreement_ger
		SOV = {
			country_event = { id = soviet.115 days = 1 }
		} 
	}	
}

country_event = { #The Germans and Soviets have reached an agreement
	id = soviet.115
	title = soviet.115.t
	desc = soviet.115.d 
	
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = { #nice 
		name = soviet.115.a 
				
		swap_ideas = {
			remove_idea = SOV_molotov_ribbentrop_pact
			add_idea = SOV_molotov_ribbentrop_pact_2  
		}
	}
}

country_event = { #The Army Armament Program
	id = soviet.116
	title = soviet.116.t
	desc = soviet.116.d 
	
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = { #nice 
		name = soviet.116.a 

		complete_national_focus = SOV_armour_development
	
	}
	option = { #nice 
		name = soviet.116.b

		complete_national_focus = SOV_artillery_development

	}
	option = { #nice 
		name = soviet.116.c
				
		set_country_flag = developing_branch_infantry

		complete_national_focus = SOV_infantry_development		
	}
}

country_event = { #Next Step of the Armament Program
	id = soviet.117
	title = soviet.117.t
	desc = soviet.117.d 
	
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = { #nice 
		trigger = { NOT = { has_completed_focus = SOV_armour_development } }

		name = soviet.117.a 

		complete_national_focus = SOV_armour_development
	
	}
	option = { #nice 
		name = soviet.117.b
		trigger = { NOT = { has_completed_focus = SOV_artillery_development } }
				
		complete_national_focus = SOV_artillery_development
	}
	option = { #nice 
		name = soviet.117.c
		trigger = { NOT = { has_completed_focus = SOV_infantry_development } }

		complete_national_focus = SOV_infantry_development		
	}
}

country_event = { #stalin smiles
	id = soviet.118
	title = soviet.118.t
	desc = soviet.118.d
	picture = GFX_report_event_stalin_01

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.118.a
		ai_chance = { factor = 100 }

    }
}

country_event = { #stalin rages
	id = soviet.119
	title = soviet.119.t
	desc = soviet.119.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.119.a
		ai_chance = { factor = 100 }
		if = {
			limit = { 
				has_idea = trotskyite_plot_purged 
			}
			custom_effect_tooltip = SOV_increase_paranoia_20_tt
			add_to_variable = { var = stalin_paranoia value = 20 }		
		}
		else = {
			add_stability = -0.15
		}
    }
}

country_event = {
	id = soviet.120
	title = soviet.120.t
	desc = soviet.120.d
	picture = GFX_report_event_stalin_meeting

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.119.a
		ai_chance = { factor = 100 }
		if = {
			limit = { 
				has_idea = trotskyite_plot_purged 
			}
			custom_effect_tooltip = SOV_increase_paranoia_20_tt
			add_to_variable = { var = stalin_paranoia value = 20 }		
		}
		else = {
			add_stability = -0.15
		}
    }
}


country_event = { #Moscow Good
	id = soviet.121
	title = soviet.121.t
	desc = soviet.121.d
	picture = GFX_report_event_generic_battle

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.121.a
		ai_chance = { factor = 100 }
    }
}

country_event = { #Moscow Bad
	id = soviet.122
	title = soviet.122.t
	desc = soviet.122.d
	picture = GFX_report_event_generic_battle

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.122.a
		ai_chance = { factor = 100 }
    }
}

country_event = { #Leningrad Good
	id = soviet.123
	title = soviet.123.t
	desc = soviet.123.d
	picture = GFX_report_event_generic_battle

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.123.a
		ai_chance = { factor = 100 }
    }
}

country_event = { #Leningrad Bad
	id = soviet.124
	title = soviet.124.t
	desc = soviet.124.d
	picture = GFX_report_event_generic_battle

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.124.a
		ai_chance = { factor = 100 }
    }
}

country_event = { #Stalingrad Good
	id = soviet.125
	title = soviet.125.t
	desc = soviet.125.d
	picture = GFX_report_event_generic_battle

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.125.a
		ai_chance = { factor = 100 }
    }
}

country_event = { #Stalingrad Bad
	id = soviet.126
	title = soviet.126.t
	desc = soviet.126.d
	picture = GFX_report_event_generic_battle

	fire_only_once = yes
	
	is_triggered_only = yes 
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.126.a
		ai_chance = { factor = 100 }
    }
}

country_event = {
	id = soviet.570
	title = soviet.570.t
	desc = soviet.570.d
	picture = GFX_report_event_soldiers_marching

	fire_only_once = yes
	
	trigger = {
		tag = SOV
		has_war_with = GER
		
		# german advance check
		or = {
		NOT = { SOV = { has_full_control_of_state = 245 }}
		NOT = { SOV = { has_full_control_of_state = 217 }}
		}
		SOV = { owns_state = 217 } # controls stalingrad 3529
        is_ai = yes
		GER = {is_ai = no}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = soviet.570.a
		ai_chance = { factor = 100 }
		
		hidden_effect = {
			load_oob = "SOV_stalingrad_defence"		
	    }
    }
}
